{% block form_javascript %}
{% spaceless %}
    {% for child in form %}
        {{ form_javascript(child) }}
    {% endfor %}
{% endspaceless %}
{% endblock form_javascript %}

{% block field_javascript "" %}

{% block color_javascript %}
{% spaceless %}
    <script type="text/javascript">
    jQuery(document).ready(function($) {
        var $field = $('#{{ id }}');
        
    {% block color_javascript_prototype %}
        var $configs = $.extend({
            color: '#' + $field.val(),
            onBeforeShow: function() {
                $(this).ColorPickerSetColor($field.val());
            }
        }, {{ configs|json_encode|raw }});

        {% if widget == "image" %}
        $picker = $('#{{ id }}_color');

        $picker.ColorPicker($.extend({
            onChange: function(hsb, hex, rgb) {
                $field.val(hex);

                $('div', $picker).css({
                    backgroundColor: '#' + hex
                });
            }
        }, $configs));
        {% else %}
        $field.ColorPicker($.extend({
            onChange: function(hsb, hex, rgb) {
                $field.val(hex).css({
                    backgroundColor: '#' + hex
                });
            }
        }, $configs));
        {% endif %}
    {% endblock %}
    });
    </script>
{% endspaceless %}
{% endblock color_javascript %}

{% block select2_javascript %}
    <script type="text/javascript">
    jQuery(document).ready(function($) {
        $field = $('#{{ id }}');

    {% block select2_javascript_prototype %}
        $field.select2({{ configs|json_encode|raw }});
    {% endblock %}
    });
    </script>
{% endblock select2_javascript %}

